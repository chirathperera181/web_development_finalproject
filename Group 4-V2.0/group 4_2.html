<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Cast Your Vote</title>

    <style>
        body {            
            min-height: 700px;
            display: flex;
            justify-content: center;
            align-items: center;
            background: #f6bdff;
            font-family:'Times New Roman', Times, serif;
        }

        .vote-container {
            width: 100%;
            max-width: 420px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .card {
            background: lightblue;
            padding: 20px;
            border-radius: 18px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            transition: transform 0.2s ease;
        }

        .header-card {
            text-align: center;
            padding-bottom: 25px;
            background-color: #c15f7c;
        }

        .icon {
            width: 50px;
            height: 50px;
            margin: 0 auto 10px;
            background: #6a6fd6;
            color: #fff;
            border-radius: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 22px;
        }

        h1 {
            margin: 5px 0;
            font-size: 28px;
        }

        h3 {
            color: #e1d7d7;
            font-size: 14px;
        }

        .option {
            display: flex;
            align-items: center;
            justify-content: space-between;
            cursor: pointer;
        }

        .candidate-card:hover {
            transform: translateY(-3px);
            border: 2px solid #6a6fd6;
        }

        .left {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .badge {
            width: 40px;
            height: 40px;
            border-radius: 100%;
            color: white;
            font-weight: bold;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .a {
            background: #8fa6d3;
        }

        .b {
            background: #83cba4;
        }

        .c {
            background: #fac06e;
        }

        .d {
            background: #50bce0;
        }

        .name {
            font-weight: 600;
            display: block;
        }

        .party {
            font-size: 13px;
            color: #777;
        }

        input[type="radio"] {
            transform: scale(1.3);
            accent-color: #6a6fd6;
        }

        .buttons {
            display: flex;
            gap: 12px;
         
        }

        button {
            flex: 1;
            padding: 14px;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            
            
        }

        .submit {
            background: #dfe3ea;
            color: #888;
        }

        .submit.active {
            background: #6a6fd6;
            color: white;
        }
    </style>
</head>

<body>

    <div class="vote-container">

        <div class="card header-card">
            <div class="icon">âœ”</div>
            <h1>Cast Your Vote</h1>
            <h3>Select your preferred candidate</h3>
        </div>

        <div class="card candidate-card">
            <label class="option">
                <div class="left">
                    <div class="badge a">A</div>
                    <div>
                        <span class="name">Wenuka Jayasooriya</span>
                        <span class="party">Progressive Party</span>
                    </div>
                </div>
                <input type="radio" name="vote" value="Wenuka Jayasooriya">
            </label>
        </div>

        <div class="card candidate-card">
            <label class="option">
                <div class="left">
                    <div class="badge b">B</div>
                    <div>
                        <span class="name">Chirath Perara</span>
                        <span class="party">Unity Alliance</span>
                    </div>
                </div>
                <input type="radio" name="vote" value="Chirath Perara">
            </label>
        </div>

        <div class="card candidate-card">
            <label class="option">
                <div class="left">
                    <div class="badge c">C</div>
                    <div>
                        <span class="name">Dinil Kethaka</span>
                        <span class="party">Reform Coalition</span>
                    </div>
                </div>
                <input type="radio" name="vote" value="Dinil Kethaka">
            </label>
        </div>

        <div class="card candidate-card">
            <label class="option">
                <div class="left">
                    <div class="badge d">D</div>
                    <div>
                        <span class="name">Naveen Kumar</span>
                        <span class="party">Reform Coalition</span>
                    </div>
                </div>
                <input type="radio" name="vote" value="Naveen Kumar">
            </label>
        </div>

        <div class="card action-card">
            <div class="buttons">
                <button class="submit" id="submitBtn">Submit Vote</button>

            </div>
        </div>

    </div>

    

    <script>
        const radios = document.querySelectorAll('input[name="vote"]');
        const submitBtn = document.getElementById("submitBtn");

        // Initialize votes in sessionStorage if not present
        if (!sessionStorage.getItem("votes")) {
            const initialVotes = {
                "Wenuka Jayasooriya": 0,
                "Chirath Perara": 0,
                "Dinil Kethaka": 0,
                "Naveen Kumar": 0
            };
            sessionStorage.setItem("votes", JSON.stringify(initialVotes));
        }

        radios.forEach(radio => {
            radio.addEventListener("change", () => {
                submitBtn.classList.add("active");
            });
        });

        submitBtn.addEventListener("click", () => {
            const selected = document.querySelector('input[name="vote"]:checked');
            if (selected) {
                // Increment vote for the selected candidate
                const votes = JSON.parse(sessionStorage.getItem("votes"));
                votes[selected.value] += 1;
                sessionStorage.setItem("votes", JSON.stringify(votes));

                // Store last voted candidate to show on thank you page
                sessionStorage.setItem("lastVote", selected.value);

                // Redirect to thank you page
                window.location.href = "group 4_3.html";
            } else {
                alert("Please select a candidate first.");
            }
        });
    </script>

</body>

</html>