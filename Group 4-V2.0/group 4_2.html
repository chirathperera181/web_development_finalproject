<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Cast Your Vote</title>

    <style>
        * {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        }

        body {
            min-height: 700px;
            display: flex;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            font-family: 'Times New Roman', Times, serif;
        }

        .vote-container {
            width: 100%;
            max-width: 420px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            border-radius: 18px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            transition: transform 0.2s ease;
        }

        .cardcandidate-card {
            padding: 20px;
            border-radius: 18px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            transition: transform 0.2s ease;
        }

        .header-card {
            color: whitesmoke;
            text-align: center;
            padding-bottom: 25px;
            background-color: #c15f7c;
        }

        .icon {
            width: 50px;
            height: 50px;
            margin: 0 auto 10px;
            background: #020ddb;
            color: #fff;
            border-radius: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 22px;
        }

        h1 {
            margin: 5px 0;
            font-size: 28px;
        }

        h3 {
            color: #e1d7d7;
            font-size: 14px;
        }

        .option {
            display: flex;
            align-items: center;
            justify-content: space-between;
            cursor: pointer;
        }

        .candidate-card:hover {
            transform: translateY(-3px);
            border: 2px solid #6a6fd6;
        }

        .left {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .badge {
            width: 40px;
            height: 40px;
            border-radius: 100%;
            color: white;
            font-weight: bold;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .cardcandidate-card {
            background: white;
        }

        .a {
            background: linear-gradient(135deg, #8fa6d3 0%, #6a6fd6 100%);
        }

        .b {
            background: linear-gradient(135deg, #83cba4 0%, #4caf50 100%);
        }

        .c {
            background: linear-gradient(135deg, #fac06e 0%, #ff9800 100%);
        }

        .d {
            background: linear-gradient(135deg, #50bce0 0%, #2196f3 100%);
        }

        .name {
            font-weight: 600;
            display: block;
        }

        .party {
            font-size: 13px;
        }

        input[type="radio"] {
            transform: scale(1.3);
            accent-color: #6a6fd6;
        }

        .buttons {
            display: flex;
            gap: 12px;
        }

        button {
            flex: 1;
            padding: 14px;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
        }

        /* Popup Styles */
        .popup {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .popup .card {
            background: white;
            max-width: 400px;
            width: 90%;
            text-align: center;
            padding: 30px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
        }

        .popup h2 {
            color: #4caf50;
            margin-bottom: 20px;
            font-size: 24px;
        }

        .popup h1 {
            color: #333;
            font-size: 22px;
            margin: 10px 0;
        }

        .popup p {
            color: #666;
            font-size: 16px;
            margin: 20px 0;
        }

        .popup form {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .popup .result {
            background: #6a6fd6;
            color: white;
            flex: 1;
        }

        .popup .logout {
            background: #f44336;
            color: white;
            flex: 1;
        }

        .submit {
            background: #dfe3ea;
            color: #888;
        }

        .submit.active {
            background: #6a6fd6;
            color: white;
        }
    </style>
</head>

<body>
    <div class="header"></div>

    <div class="vote-container">
        <div class="card header-card">
            <div class="icon">âœ”</div>
            <h1>Cast Your Vote</h1>
            <h3>Select your preferred candidate</h3>
        </div>

        <div class="cardcandidate-card">
            <label class="option">
                <div class="left">
                    <div class="badge a">A</div>
                    <div>
                        <span class="name">Wenuka Jayasooriya</span>
                        <span class="party">Party 1</span>
                    </div>
                </div>
                <input type="radio" name="vote" value="Wenuka Jayasooriya">
            </label>
        </div>

        <div class="cardcandidate-card">
            <label class="option">
                <div class="left">
                    <div class="badge b">B</div>
                    <div>
                        <span class="name">Chirath Perara</span>
                        <span class="party">Party 2</span>
                    </div>
                </div>
                <input type="radio" name="vote" value="Chirath Perara">
            </label>
        </div>

        <div class="cardcandidate-card">
            <label class="option">
                <div class="left">
                    <div class="badge c">C</div>
                    <div>
                        <span class="name">Dinil Kethaka</span>
                        <span class="party">Party 3</span>
                    </div>
                </div>
                <input type="radio" name="vote" value="Dinil Kethaka">
            </label>
        </div>

        <div class="cardcandidate-card">
            <label class="option">
                <div class="left">
                    <div class="badge d">D</div>
                    <div>
                        <span class="name">Naveen Kumar</span>
                        <span class="party">Party 4</span>
                    </div>
                </div>
                <input type="radio" name="vote" value="Naveen Kumar">
            </label>
        </div>

        <div class="card action-card">
            <div class="buttons">
                <button class="submit" id="submitBtn">Submit Vote</button>
            </div>
        </div>
    </div>

    <!-- Popup Window -->
    <div class="popup" id="popupwindow">
        <div class="card">
            <h2>Vote Submitted Successfully!</h2>
            <h1>Thank you for voting!</h1>
            <p>Your vote for <b id="votedCandidate">Guest</b> has been recorded</p><br>
            <form>
                <button type="button" class="result" onclick= "window.location.href= 'group 4_4.html'">Results</button>
                <button type="button" class="logout" onclick= "window.location.href= 'group 4_1.html'">Logout</button>
            </form>
        </div>
    </div>

    <script>
        const radios = document.querySelectorAll('input[name="vote"]');
        const submitBtn = document.getElementById("submitBtn");
        const popup = document.getElementById("popupwindow");
        const votedCandidateElement = document.getElementById("votedCandidate");

        // Initialize votes in sessionStorage if not present
        if (!sessionStorage.getItem("votes")) {
            const initialVotes = {
                "Wenuka Jayasooriya": 0,
                "Chirath Perara": 0,
                "Dinil Kethaka": 0,
                "Naveen Kumar": 0
            };
            sessionStorage.setItem("votes", JSON.stringify(initialVotes));
        }

        radios.forEach(radio => {
            radio.addEventListener("change", () => {
                submitBtn.classList.add("active");
            });
        });

        submitBtn.addEventListener("click", () => {
            const selected = document.querySelector('input[name="vote"]:checked');
            if (selected) {
                // Increment vote for the selected candidate
                const votes = JSON.parse(sessionStorage.getItem("votes"));
                votes[selected.value] += 1;
                sessionStorage.setItem("votes", JSON.stringify(votes));

                // Store last voted candidate to show on thank you page
                sessionStorage.setItem("lastVote", selected.value);

                // Update the candidate name in popup
                votedCandidateElement.textContent = selected.value;

                // Show the popup
                popup.style.display = "flex";
                
                // Hide the main voting interface
                document.querySelector('.vote-container').style.display = "none";
            } else {
                alert("Please select a candidate first.");
            }
        });
    </script>
</body>
</html>